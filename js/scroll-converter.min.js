/*
scrollConverter 1.0.1
https://github.com/koggdal/scroll-converter

Copyright 2011 Johannes Koggdal (http://koggdal.com/)
Developed for BombayWorks (http://bombayworks.com/)

Released under MIT license
*/

window.scrollConverter=function(e,t,n){var l=t.documentElement,r=false,o=false,s=false;var a;var i;var f=function(n,o,s){if(!r){return}var a,i,f,c,v,u,d,E;a=0;i=10;v=(l?l.offsetWidth:0)||0;u=t.body.scrollWidth||0;d=l?l.clientWidth:0;E=Math.max(v,u)-d;if(o.detail){a=o.detail*-240}else if(o.wheelDelta){a=o.wheelDelta*5}f=a/120*i;c=n.x-f;if(c>=0&&c<=E){n.x=c;n.setByScript=true;e.scrollTo(n.x,n.y)}else if(n.x!==0&&n.x!==E){n.x=c>E?E:0;n.setByScript=true;e.scrollTo(n.x,n.y)}if(typeof s==="function"){s(n)}},c=function(n){n=n.toUpperCase();var l="page"+n+"Offset",r="scroll"+n,o="scroll"+(n==="X"?"Left":"Top");return e[l]||e[r]||function(){var e=t.documentElement||t.body.parentNode;return(typeof e[o]==="number"?e:t.body)[o]}()},v=function(n,l){var r=function(t){t=t||e.event;f(n,t,l);if(t.preventDefault&&t.stopPropagation){t.preventDefault();t.stopPropagation()}else{return false}},o=function(){if(!n.setByScript){n.x=c("x");n.y=c("y")}n.setByScript=false};a=r;i=o;if(e.addEventListener){if("onmousewheel"in e){e.addEventListener("mousewheel",a,false);e.addEventListener("scroll",i,false)}else{e.addEventListener("DOMMouseScroll",a,false);e.addEventListener("scroll",i,false)}}else{t.attachEvent("onmousewheel",a);e.attachEvent("onscroll",i)}},u=function(){if(!a&&!i)return;if(e.removeEventListener){if("onmousewheel"in e){e.removeEventListener("mousewheel",a,false);e.removeEventListener("scroll",i,false)}else{e.removeEventListener("DOMMouseScroll",a,false);e.removeEventListener("scroll",i,false)}}else{t.detachEvent("onmousewheel",a);e.detachEvent("onscroll",i)}},d=function(e){e.preventDefault();e.stopPropagation();return false};return{activate:function(t){r=true;if(!s){var n={x:0,y:0};v(n,t);s=true}if(o){if(e.addEventListener){e.removeEventListener("scroll",d,true)}else{e.detachEvent("onscroll",d)}o=false}},deactivate:function(){r=false;if(s){u();s=false}},deactivateAllScrolling:function(){r=false;o=true;if(e.addEventListener){e.addEventListener("scroll",d,true)}else{e.attachEvent("onscroll",d)}}}}(window,document);